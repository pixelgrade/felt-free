/*!
 * @codingStandardsIgnoreFile
 * phpcs:ignoreFile
 */!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=5)}([function(e,t){e.exports=jQuery},function(e,t){e.exports=_gsScope},,function(e,t){e.exports=Masonry},,function(e,t,n){"use strict";n.r(t);var i=n(0),m=n.n(i),r=n(3),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e){return"function"==typeof e}var a=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function u(e){setTimeout(function(){throw e})}var f={closed:!0,next:function(e){},error:function(e){if(c.useDeprecatedSynchronousErrorHandling)throw e;u(e)},complete:function(){}},d=Array.isArray||function(e){return e&&"number"==typeof e.length};function h(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}h.prototype=Object.create(Error.prototype);var p=h,y=function(){function r(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var e;return r.prototype.unsubscribe=function(){var t,n=!1;if(!this.closed){var e=this._parent,i=this._parents,r=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s,a=-1,c=i?i.length:0;e;)e.remove(this),e=++a<c&&i[a]||null;if(l(r))try{r.call(this)}catch(e){n=!0,t=e instanceof p?b(e.errors):[e]}if(d(o))for(a=-1,c=o.length;++a<c;){var u=o[a];if(null!==(s=u)&&"object"==typeof s)try{u.unsubscribe()}catch(e){n=!0,t=t||[],e instanceof p?t=t.concat(b(e.errors)):t.push(e)}}if(n)throw new p(t)}},r.prototype.add=function(e){var t=e;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;(t=new r)._subscriptions=[n]}break;default:if(!e)return r.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(t._addParent(this)){var i=this._subscriptions;i?i.push(t):this._subscriptions=[t]}return t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},r.prototype._addParent=function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))},r.EMPTY=((e=new r).closed=!0,e),r}();function b(e){return e.reduce(function(e,t){return e.concat(t instanceof p?t.errors:t)},[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(r){function o(e,t,n){var i=r.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=f;break;case 1:if(!e){i.destination=f;break}if("object"==typeof e){e instanceof o?(i.syncErrorThrowable=e.syncErrorThrowable,(i.destination=e).add(i)):(i.syncErrorThrowable=!0,i.destination=new w(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new w(i,e,t,n)}return i}return s(o,r),o.prototype[v]=function(){return this},o.create=function(e,t,n){var i=new o(e,t,n);return i.syncErrorThrowable=!1,i},o.prototype.next=function(e){this.isStopped||this._next(e)},o.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},o.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},o.prototype._next=function(e){this.destination.next(e)},o.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},o.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},o.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},o}(y),w=function(a){function e(e,t,n,i){var r,o=a.call(this)||this;o._parentSubscriber=e;var s=o;return l(t)?r=t:t&&(r=t.next,n=t.error,i=t.complete,t!==f&&(l((s=Object.create(t)).unsubscribe)&&o.add(s.unsubscribe.bind(s)),s.unsubscribe=o.unsubscribe.bind(o))),o._context=s,o._next=r,o._error=n,o._complete=i,o}return s(e,a),e.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},e.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u(e)}}},e.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,n):this.__tryOrUnsub(n),this.unsubscribe()}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw e;u(e)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):(u(e),!0)}return!1},e.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},e}(g);var _="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(){}function S(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)}:k}var O=function(){function n(e){this._isScalar=!1,e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof g)return e;if(e[v])return e[v]()}return e||t||n?new g(e,t,n):new g(f)}(e,t,n);if(i?r.add(i.call(r,this.source)):r.add(this.source||c.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),c.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},n.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof g?i:null}return!0}(t)?console.warn(e):t.error(e)}},n.prototype.forEach=function(i,e){var r=this;return new(e=C(e))(function(e,t){var n;n=r.subscribe(function(e){try{i(e)}catch(e){t(e),n&&n.unsubscribe()}},t,e)})},n.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},n.prototype[_]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:S(e)(this)},n.prototype.toPromise=function(e){var i=this;return new(e=C(e))(function(e,t){var n;i.subscribe(function(e){return n=e},function(e){return t(e)},function(){return e(n)})})},n.create=function(e){return new n(e)},n}();function C(e){if(e||(e=c.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function E(t,n){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new j(t,n))}}var j=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new x(e,this.project,this.thisArg))},e}(),x=function(r){function e(e,t,n){var i=r.call(this,e)||this;return i.project=t,i.count=0,i.thisArg=n||i,i}return s(e,r),e.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e}(g);Object.prototype.toString;function T(e,n,i,t){return l(i)&&(t=i,i=void 0),t?T(e,n,i).pipe(E(function(e){return d(e)?t.apply(void 0,e):t(e)})):new O(function(t){!function e(t,n,i,r,o){var s;if(p=t,p&&"function"==typeof p.addEventListener&&"function"==typeof p.removeEventListener){var a=t;t.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(h=t,h&&"function"==typeof h.on&&"function"==typeof h.off){var c=t;t.on(n,i),s=function(){return c.off(n,i)}}else if(d=t,d&&"function"==typeof d.addListener&&"function"==typeof d.removeListener){var u=t;t.addListener(n,i),s=function(){return u.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,f=t.length;l<f;l++)e(t[l],n,i,r,o)}var d;var h;var p;r.add(s)}(e,n,function(e){1<arguments.length?t.next(Array.prototype.slice.call(arguments)):t.next(e)},t,i)})}function $(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(e,null,[{key:"onCustomizerRender",value:function(){var n=window;return O.create(function(e){var t=e.next.bind(e);n.wp&&n.wp.customize&&n.wp.customize.selectiveRefresh&&n.wp.customize.selectiveRefresh.bind("partial-content-rendered",function(e){t(e)})})}},{key:"onCustomizerChange",value:function(){var n=window;return O.create(function(e){var t=e.next.bind(e);n.wp&&n.wp.customize&&n.wp.customize.bind("change",function(e){t(e)})})}},{key:"onReady",value:function(){return T(document,"DOMContentLoaded")}}]),e}();function M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}(t,null,[{key:"isTouch",value:function(){return"ontouchstart"in window||"DocumentTouch"in window}},{key:"handleCustomCSS",value:function(e){var t=void 0!==e?e.find("[data-css]"):m()("[data-css]");t.length&&t.each(function(e,t){var n=m()(t),i=n.data("css");void 0!==i&&n.replaceWith('<style type="text/css">'+i+"</style>")})}},{key:"unwrapImages",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.$body).find("p > img:first-child:last-child, p > a:first-child:last-child > img").each(function(e,t){var n=m()(t).closest("img"),i=n.attr("class"),r=n.closest("p"),o=m()("<figure />").attr("class",i);m.a.trim(r.text()).length||(o.append(n.removeAttr("class")).insertAfter(r),r.remove())})}},{key:"wrapEmbeds",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.$body).children("iframe, embed, object").wrap("<p>")}},{key:"handleVideos",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.$body).find(".video-placeholder").each(function(e,t){var n=m()(t),i=document.createElement("video"),r=m()(i).addClass("c-hero__video");i.onloadedmetadata=function(){return i.play()},i.src=n.data("src"),i.poster=n.data("poster"),i.muted=!0,i.loop=!0,n.replaceWith(r)})}},{key:"smoothScrollTo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"swing";m()("html, body").stop().animate({scrollTop:e},t,n)}},{key:"debounce",value:function(i,r,o){var s,a=this,c=arguments;return function(){var e=a,t=c,n=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||i.apply(e,t)},r),n&&i.apply(e,t)}}},{key:"throttle",value:function(e,t){var n=!1;return function(){n||(e(),n=!0,setTimeout(function(){n=!1},t))}}},{key:"mq",value:function(e,t){var n=m()('<div class="u-mq-'+e+"-"+t+'">').appendTo("body"),i=n.is(":visible");return n.remove(),i}},{key:"below",value:function(e){return t.mq("below",e)}},{key:"above",value:function(e){return t.mq("above",e)}},{key:"getParamFromURL",value:function(e,t){var n=t.split("?");if(void 0===n[1])return n[1];n=n[1].split("&");for(var i=0,r=Array.from(Array(n.length).keys());i<r.length;i++){var o=n[r[i]].split("=");if(o[0]===e)return o[1]}}},{key:"reloadScript",value:function(e){var t=m()('script[src*="'+e+'"]'),n=m()("<script>"),i=t.attr("src");t.length&&(t.replaceWith(n),n.attr("src",i))}},{key:"getIEversion",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return 0<i&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}},{key:"markFirstWord",value:function(e){var t=e.text().trim().split(" "),n=t.shift();e.html((0<t.length?'<span class="first-word">'+n+"</span> ":n)+t.join(" "))}},{key:"fitText",value:function(e){var t=parseFloat(e.css("fontSize")),n=parseFloat(e.css("lineHeight")),i=e.outerHeight()||n;e.css("fontSize",t*i/n)}}]),t}();function H(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}A.$body=m()("body");var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(e,null,[{key:"onLoad",value:function(){return T(window,"load")}},{key:"onResize",value:function(){return T(window,"resize")}},{key:"onScroll",value:function(){return T(window,"scroll")}},{key:"getWindow",value:function(){return e.$window}},{key:"getScrollY",value:function(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}},{key:"getWidth",value:function(){return e.$window.width()}},{key:"getHeight",value:function(){return e.$window.height()}},{key:"getWindowEl",value:function(){return e.$window[0]}},{key:"getOrientation",value:function(){return e.getWidth()>e.getHeight()?"landscape":"portrait"}}]),e}();function I(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}R.$window=m()(window),I.prototype=Object.create(Error.prototype);var D=I,z=new O(function(e){return e.complete()});function L(e){return e?function(t){return new O(function(e){return t.schedule(function(){return e.complete()})})}(e):z}function B(t){return function(e){return 0===t?L():e.lift(new W(t))}}var W=function(){function e(e){if(this.total=e,this.total<0)throw new D}return e.prototype.call=function(e,t){return t.subscribe(new V(e,this.total))},e}(),V=function(i){function e(e,t){var n=i.call(this,e)||this;return n.total=t,n.count=0,n}return s(e,i),e.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},e}(g),F=function(i){function e(e,t){var n=i.call(this,e,t)||this;return n.scheduler=e,n.work=t,n.pending=!1,n}return s(e,i),e.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},e.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},e.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},e.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},e}(function(n){function e(e,t){return n.call(this)||this}return s(e,n),e.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},e}(y)),U=function(){function n(e,t){void 0===t&&(t=n.now),this.SchedulerAction=e,this.now=t}return n.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},n.now=function(){return Date.now()},n}(),Y=new(function(i){function r(e,t){void 0===t&&(t=U.now);var n=i.call(this,e,function(){return r.delegate&&r.delegate!==n?r.delegate.now():t()})||this;return n.actions=[],n.active=!1,n.scheduled=void 0,n}return s(r,i),r.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),r.delegate&&r.delegate!==this?r.delegate.schedule(e,t,n):i.prototype.schedule.call(this,e,t,n)},r.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},r}(U))(F);function q(t,n){return void 0===n&&(n=Y),function(e){return e.lift(new G(t,n))}}var G=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new X(e,this.dueTime,this.scheduler))},e}(),X=function(r){function e(e,t,n){var i=r.call(this,e)||this;return i.dueTime=t,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return s(e,r),e.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(N,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},e.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},e}(g);function N(e){e.debouncedNext()}function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$body=m()("body"),this.$window=m()(window),this.$html=m()("html"),this.ev=m()({}),this.frameRendered=!1,this.subscriptionActive=!0,this.$html.toggleClass("is-IE",A.getIEversion()&&A.getIEversion()<12),this.bindEvents(),this.renderLoop()}return function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(e,[{key:"bindEvents",value:function(){P.onReady().pipe(B(1)).subscribe(this.onReadyAction.bind(this)),R.onLoad().pipe(B(1)).subscribe(this.onLoadAction.bind(this)),R.onResize().pipe(q(500)).subscribe(this.onResizeAction.bind(this)),R.onScroll().subscribe(this.onScrollAction.bind(this)),-1===window.location.href.indexOf("#comment")&&m()(".trigger-comments").removeAttr("checked"),this.$window.on("beforeunload",this.fadeOut.bind(this)),this.ev.on("render",this.update.bind(this))}},{key:"onScrollAction",value:function(){this.frameRendered=!1}},{key:"onReadyAction",value:function(){this.$html.addClass("is-ready")}},{key:"onLoadAction",value:function(){this.$html.addClass("is-loaded"),this.fadeIn()}},{key:"onResizeAction",value:function(){}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"renderLoop",value:function(){var e=this;!1===this.frameRendered&&this.ev.trigger("render"),requestAnimationFrame(function(){e.renderLoop(),e.frameRendered=!0,e.ev.trigger("afterRender")})}},{key:"update",value:function(){this.backToTop()}},{key:"backToTop",value:function(){m()(".back-to-top").toggleClass("is-visible",R.getScrollY()>=R.getHeight())}},{key:"eventHandlers",value:function(e){e.find(".back-to-top").on("click",function(e){e.preventDefault(),A.smoothScrollTo(0,1e3)})}},{key:"fadeOut",value:function(){this.$html.removeClass("fade-in").addClass("fade-out")}},{key:"fadeIn",value:function(){this.$html.removeClass("fade-out no-transitions").addClass("fade-in")}}]),e}();var Q=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function te(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re={infinite:!0,slidesToScroll:1,slidesToShow:1,variableWidth:!0},oe={infinite:!0,slidesToScroll:1,slidesToShow:1,variableWidth:!1},se=function(e){function i(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=te(this,ne(i).call(this))).element=e,t.options=n,t.defaultSlickOptions={dots:!1,fade:!1,nextArrow:'<div class="slick-next"></div>',prevArrow:'<div class="slick-prev"></div>',speed:500},t.slickOptions=t.defaultSlickOptions,t.extendOptions(),t.bindEvents(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(i,Q),function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n)}(i,[{key:"bindEvents",value:function(){this.bindSlick()}},{key:"destroy",value:function(){this.element.slick("unslick")}},{key:"onResize",value:function(){console.warn("carousel:resize"),this.destroy(),this.extendOptions(),this.bindEvents()}},{key:"extendOptions",value:function(){return A.above("lap")?this.extendDesktopOptions(this.options):this.extendMobileOptions(this.options)}},{key:"extendMobileOptions",value:function(e){this.slickOptions=Object.assign({},this.defaultSlickOptions,{arrows:!1,centerMode:!0,centerPadding:"30px",dots:""===this.options.show_pagination,infinite:!0,slidesToScroll:1,slidesToShow:1})}},{key:"extendDesktopOptions",value:function(e){this.slickOptions=Object.assign({},this.defaultSlickOptions,{arrows:!0,customPaging:i.customPagination}),""===this.options.show_pagination&&(this.slickOptions.dots=!0),"variable_width"===this.options.items_layout?this.slickOptions=Object.assign({},this.slickOptions,re):this.slickOptions=Object.assign({},this.slickOptions,oe),this.options.items_per_row&&(this.slickOptions=Object.assign({},this.slickOptions,{slidesToScroll:this.options.items_per_row,slidesToShow:this.options.items_per_row}))}},{key:"bindSlick",value:function(){this.element.slick(this.slickOptions),this.element.find(".slick-cloned").find("img").addClass("is-loaded")}}],[{key:"customPagination",value:function(e,t){var n=t+1,i=n<=9?"0".concat(n):n;return m()('<button type="button" />').text(i)}}]),i}(),ae=n(1);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function le(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function fe(e,t,n){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=de(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),le(this,de(n).call(this,e,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(n,se),function(e,t,n){t&&ue(e.prototype,t),n&&ue(e,n)}(n,[{key:"destroy",value:function(){fe(de(n.prototype),"destroy",this).call(this),this.element.off("beforeChange")}},{key:"bindEvents",value:function(){this.element.on("beforeChange",this.onBeforeSlideChange.bind(this)),this.slickOptions=Object.assign({},this.slickOptions,{fade:!0,infinite:!0,speed:1e3}),this.element.slick(this.slickOptions)}},{key:"onResize",value:function(){console.warn("slideshow:resize"),this.destroy(),this.extendOptions(),this.bindEvents()}},{key:"onBeforeSlideChange",value:function(e,t,n,i){var r=m()(t.$slides[n]),o=m()(t.$slides[i]);m()(t.$slides).css("zIndex",800),this.transition(r,o,this.getDirection(t,n,i))}},{key:"transition",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,i=new ae.TimelineLite({paused:!0}),r=this.slickOptions.speed/1e3,o=e.outerWidth();i.fromTo(t,r,{x:n*o},{x:0,ease:ae.Power4.easeInOut},0),i.fromTo(t.find(".c-hero__background"),r,{x:-n*(o-300)},{x:0,ease:ae.Power4.easeInOut},0),i.fromTo(t.find(".c-hero__content"),r,{x:-n*o},{x:0,ease:ae.Power4.easeInOut},0),i.fromTo(e,r,{x:0},{x:-n*o,ease:ae.Power4.easeInOut},0),i.fromTo(e.find(".c-hero__background"),r,{x:0},{x:n*(o-300),ease:ae.Power4.easeInOut},0),i.fromTo(e.find(".c-hero__content"),r,{x:0},{x:n*o,ease:ae.Power4.easeInOut},0),i.play()}},{key:"getDirection",value:function(e,t,n){return t<n?1:-1}}]),n}();function ye(t,n){return void 0===n&&(n=!1),function(e){return e.lift(new be(t,n))}}var be=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new ve(e,this.predicate,this.inclusive))},e}(),ve=function(r){function e(e,t,n){var i=r.call(this,e)||this;return i.predicate=t,i.inclusive=n,i.index=0,i}return s(e,r),e.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},e.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},e}(g);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function we(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=we(this,_e(n).call(this))).$progressBar=m()(".js-reading-progress"),t.subscriptionActive=!0,t.scrollPosition=0,t.max=0,t.setOptions(e),t.init(),t.bindEvents(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(n,Q),function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(n,[{key:"init",value:function(){this.max=this.options.max>R.getHeight()?this.options.max-R.getHeight():this.options.max,this.$progressBar.attr("max",this.max)}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"bindEvents",value:function(){var e=this;R.onScroll().pipe(ye(function(){return e.subscriptionActive})).subscribe(function(){e.onScroll()})}},{key:"change",value:function(e){this.$progressBar.attr("value",e)}},{key:"setOptions",value:function(e){this.options=Object.assign({},this.options,e)}},{key:"isCloseToEnd",value:function(){return this.max<=this.scrollPosition-this.options.offset}},{key:"onScroll",value:function(){this.scrollPosition=R.getScrollY(),this.options.canShow&&this.scrollPosition>this.options.offset&&this.change(this.scrollPosition-this.options.offset)}}]),n}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ee(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ee(this,je(t).call(this))).$body=m()("body"),e.$document=m()(document),e.$mainMenu=m()(".menu--primary"),e.$secondaryMenu=m()(".menu--secondary"),e.$mainMenuItems=e.$mainMenu.find("li"),e.$readingBar=m()(".js-reading-bar"),e.$stickyHeader=m()(".js-site-header-sticky"),e.$menuToggle=m()("#menu-toggle"),e.isStickyHeaderEnabled=e.$body.hasClass("u-site-header-sticky"),e.isSingular=e.$body.hasClass("single"),e.isMobileHeaderInitialised=!1,e.isDesktopHeaderInitialised=!1,e.areMobileBindingsDone=!1,e.stickyHeaderShown=!1,e.hideReadingBar=null!==e.$readingBar,e.currentScrollPosition=0,e.initialMenuOffset=0,e.subscriptionActive=!0,e.preventOneSelector="a.prevent-one",m()(".c-navbar .c-logo").imagesLoaded(function(){e.bindEvents(),e.eventHandlers(),e.appendSearchTrigger(),e.updateOnResize(),e.refresh(R.getScrollY())}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,Q),function(e,t,n){t&&Ce(e.prototype,t),n&&Ce(e,n)}(t,[{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"bindEvents",value:function(){var t=this;1===this.$mainMenu.length&&this.$document.on("click",".js-sticky-menu-trigger",this.onClickStickyMenu.bind(this)),this.$menuToggle.on("change",this.onMenuToggleChange.bind(this)),this.$mainMenuItems.hoverIntent({out:function(e){return t.toggleSubMenu(e,!1)},over:function(e){return t.toggleSubMenu(e,!0)},timeout:300}),R.onScroll().pipe(ye(function(){return t.subscriptionActive})).pipe(E(function(){return R.getScrollY()})).subscribe(function(e){t.refresh(e)}),R.onResize().pipe(ye(function(){return t.subscriptionActive})).subscribe(function(){t.updateOnResize()})}},{key:"eventHandlers",value:function(){A.below("lap")&&!this.areMobileBindingsDone&&(this.$document.on("click",this.preventOneSelector,this.onMobileMenuExpand.bind(this)),this.areMobileBindingsDone=!0),A.above("lap")&&this.areMobileBindingsDone&&(this.$document.off("click",this.preventOneSelector,this.onMobileMenuExpand.bind(this)),this.areMobileBindingsDone=!1)}},{key:"onMobileMenuExpand",value:function(e){e.preventDefault(),e.stopPropagation();var t=m()(e.currentTarget),n="active";t.hasClass(n)?window.location.href=t.attr("href"):(m()(this.preventOneSelector).removeClass(n),t.addClass(n),t.parent().siblings().removeClass("hover"),t.parent().addClass("hover"))}},{key:"onMenuToggleChange",value:function(e){var t=this,n=m()(e.currentTarget).prop("checked");this.$body.toggleClass("nav--is-open",n),n||setTimeout(function(){t.$mainMenuItems.removeClass("hover"),t.$mainMenuItems.find("a").removeClass("active")},300)}},{key:"toggleSubMenu",value:function(e,t){m()(e.currentTarget).toggleClass("hover",t)}},{key:"refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.shouldUpdate=this.$body.is(".u-site-header-sticky"),A.below("lap")&&(this.shouldUpdate=!1),this.updateOnScroll(e)}},{key:"prepareDesktopMenuMarkup",value:function(){if(!this.isDesktopHeaderInitialised){var e=parseInt(m()("html").css("marginTop"),10);if(this.$stickyHeader.css("top",e),1===this.$mainMenu.length)this.initialMenuOffset=this.$mainMenu.offset().top-e;else{var t=m()(".c-branding");this.initialMenuOffset=t.offset().top+t.outerHeight()}0===this.$mainMenu.length&&(this.$mainMenu=m()(".menu--secondary"),this.$secondaryMenu=m()({})),1===this.$mainMenu.length&&(this.$mainMenu=this.$mainMenu.clone(!0,!0).appendTo(this.$stickyHeader.find(".c-navigation-bar__middle"))),1===this.$secondaryMenu.length&&(this.$secondaryMenu=this.$secondaryMenu.clone(!0,!0).appendTo(this.$stickyHeader.find(".c-navigation-bar__left"))),this.$stickyHeader.find(".c-navbar").css("height",this.$stickyHeader.height()),this.prepareSingleHeader(),this.refresh(),this.isDesktopHeaderInitialised=!0}}},{key:"prepareMobileMenuMarkup",value:function(){if(!this.isMobileHeaderInitialised){var e=m()(".c-branding"),t=m()(".c-navbar__zone--right");e.clone().addClass("c-branding--mobile").appendTo(".c-navbar"),e.find("img").removeClass("is--loading");var n=m()('<div class="site-header-mobile u-container-sides-spacing"></div>').appendTo(".c-navbar"),i=m()(".c-navbar__zone--left .jetpack-social-navigation").clone(),r=i.find(".js-search-trigger").parent().clone();t.append(i),t.find(".js-search-trigger").parent().remove(),n.append(i.empty().append(r)),m()(".menu-item-has-children").removeClass("hover"),m()(".menu-item-has-children > a").each(function(e,t){m()(t).addClass("prevent-one")}),m()(".c-navbar__label-text").html(m()(".js-menu-mobile-label").html()).removeClass("screen-reader-text"),this.isMobileHeaderInitialised=!0}}},{key:"prepareSingleHeader",value:function(){if(this.isSingular&&this.isStickyHeaderEnabled){m()(".c-reading-bar__wrapper-social").find(".share-end").remove();var e=m()(".entry-header, .entry-summary"),t=m()(".single-main").find(".entry-content"),n=(e.outerHeight()||0)+(t.outerHeight()||0);this.$body.hasClass("entry-image--landscape")&&(n+=m()(".entry-thumbnail").outerHeight()),this.ProgressBar=new Se({canShow:this.isSingular,max:e.offset().top+n-this.initialMenuOffset,offset:this.initialMenuOffset}),1!==this.$mainMenu.length&&m()(".js-sticky-menu-trigger").remove()}}},{key:"updateOnScroll",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(this.shouldUpdate){var n=t>this.initialMenuOffset,i=t<this.currentScrollPosition&&1===this.$mainMenu.length;null!==this.$readingBar&&i!==this.hideReadingBar&&(clearTimeout(this.overflowTimeout),i?this.overflowTimeout=setTimeout(function(){e.$stickyHeader.css("overflow","")},350):this.$readingBar.length&&this.$stickyHeader.css("overflow","hidden"),this.$stickyHeader.toggleClass("reading-bar--hide",i),this.hideReadingBar=i),this.ProgressBar&&null!==this.$readingBar&&this.$readingBar.toggleClass("show-next-title",this.ProgressBar.isCloseToEnd()),n!==this.stickyHeaderShown&&(this.$stickyHeader.toggleClass("site-header-sticky--show",n),this.stickyHeaderShown=n),this.currentScrollPosition=t}}},{key:"updateOnResize",value:function(){this.eventHandlers(),A.below("lap")?this.prepareMobileMenuMarkup():this.prepareDesktopMenuMarkup()}},{key:"onClickStickyMenu",value:function(){var e=this;this.$stickyHeader.addClass("reading-bar--hide"),setTimeout(function(){e.$stickyHeader.css("overflow","")},350)}},{key:"appendSearchTrigger",value:function(){var e=m()(".c-navbar__zone--left .jetpack-social-navigation");this.$searchTrigger=m()(".js-search-trigger").removeClass("u-hidden"),1===e.length?this.$searchTrigger.clone().wrap('<li class="menu-item"></li>').parent().appendTo(e.find(".menu")):this.$searchTrigger.clone().appendTo(".c-navbar__zone--left"),this.$searchTrigger.clone().appendTo(".c-navigation-bar__right").find(".screen-reader-text").removeClass("screen-reader-text"),this.$searchTrigger.remove()}}]),t}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Me(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re="show-search-overlay",Ie=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Me(this,Ae(t).call(this))).$body=m()("body"),e.$document=m()(document),e.$searchField=m()(".c-search-overlay").find(".search-field"),e.keyupSubscriptionActive=!0,e.bindEvents(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(t,Q),function(e,t,n){t&&Pe(e.prototype,t),n&&Pe(e,n)}(t,[{key:"destroy",value:function(){this.keyupSubscriptionActive=!1,this.$document.off("click.SearchOverlay")}},{key:"bindEvents",value:function(){this.$document.on("click.SearchOverlay",".js-search-trigger",this.open.bind(this)),this.$document.on("click.SearchOverlay",".js-search-close",this.close.bind(this)),this.keyupSub=T(window.document.body,"keyup")}},{key:"createKeyupSubscription",value:function(){var e=this;this.keyupSubscriptionActive=!0,this.keyupSub.pipe(ye(function(){return e.keyupSubscriptionActive})).subscribe(this.closeOnEsc.bind(this))}},{key:"open",value:function(){this.$searchField.focus(),this.$body.addClass(Re),this.createKeyupSubscription()}},{key:"close",value:function(){this.$body.removeClass(Re),this.$searchField.blur(),this.keyupSubscriptionActive=!1}},{key:"closeOnEsc",value:function(e){27===e.keyCode&&this.close()}}]),t}();function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Le(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve="jetpack-recipe-print",Fe="jetpack-recipe-ingredients",Ue=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Le(this,Be(t).call(this))).$body=m()("body"),e.bindEvents(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,Q),function(e,t,n){t&&ze(e.prototype,t),n&&ze(e,n)}(t,[{key:"destroy",value:function(){}},{key:"bindEvents",value:function(){}},{key:"positionPrintBtn",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$body).find(".".concat("jetpack-recipe")).each(function(e,t){var n=m()(t),i=n.find(".".concat(Ve)),r=n.find(".".concat("jetpack-recipe-content")),o=n.find(".".concat(Fe));i.find("a").clone(!0).appendTo(r).wrap('<div class="'.concat(Ve,'"></div>')),o.length&&r.find(".".concat(Ve)).addClass("jetpack-has-ingredients"),i.remove()})}},{key:"wrapRecipeElements",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$body;e.find(".jetpack-recipe-image").wrap('<div class="jetpack-recipe-image-container"></div>'),e.find(".".concat(Fe," ul > li")).each(function(e,t){A.markFirstWord(m()(t))})}}]),t}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ge(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Ge(this,Xe(n).call(this))).subscriptionActive=!0,t.masonryGallerySelector=".c-gallery--packed, .c-gallery--masonry",t.element=e,t.layout(),R.onResize().pipe(q(300)).pipe(ye(function(){return t.subscriptionActive})).subscribe(function(){t.layout()}),P.onCustomizerRender().pipe(q(300)).pipe(ye(function(){return t.subscriptionActive})).subscribe(function(){t.layout()}),P.onCustomizerChange().pipe(q(300)).pipe(ye(function(){return t.subscriptionActive})).subscribe(function(){t.layout()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(n,Q),function(e,t,n){t&&qe(e.prototype,t),n&&qe(e,n)}(n,[{key:"bindEvents",value:function(){}},{key:"destroy",value:function(){this.subscriptionActive=!1}},{key:"layout",value:function(){var i,e=this.element.children();e.length&&this.element.is(this.masonryGallerySelector)&&(i=this.element.children().get(0).getBoundingClientRect().width,e.each(function(e,t){var n=t.getBoundingClientRect().width;i=n<i?n:i}),this.masonry&&this.masonry.destroy(),this.masonry=new r(this.element.get(0),{columnWidth:i,transitionDuration:0}))}}]),n}();function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t,n){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nt(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"Felt",function(){return rt});var rt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?et(e):t}(this,nt(t).call(this))).Recipe=new Ue,e.featuredCarousel=[],e.carousels=[],e.slideshows=[],e.masonrySelector=".js-masonry, .u-gallery-type--masonry",P.onCustomizerRender().subscribe(e.handleCustomizerChanges.bind(et(e))),e.handleContent(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,K),function(e,t,n){t&&Ze(e.prototype,t),n&&Ze(e,n)}(t,[{key:"bindEvents",value:function(){tt(nt(t.prototype),"bindEvents",this).call(this),m()(document.body).on("post-load",this.onJetpackPostLoad.bind(this))}},{key:"onLoadAction",value:function(){tt(nt(t.prototype),"onLoadAction",this).call(this),this.Header=new Te,this.SearchOverlay=new Ie,Object.assign(window,{StickyHeader:this.Header}),this.adjustLayout(),this.initCarousels()}},{key:"onResizeAction",value:function(){tt(nt(t.prototype),"onResizeAction",this).call(this),this.adjustLayout(),this.destroySlideshows(),this.handleSlideshows(),this.destroyCarousels(),this.handleCarousels(),this.initCarousels()}},{key:"positionStickyWidgets",value:function(){var e=m()("#wpadminbar").outerHeight(),t=m()(".site-header-sticky").outerHeight();m()(".widget-area--side").children(".widget-last").css("top",e+t)}},{key:"onJetpackPostLoad",value:function(){var e=m()("#posts-container"),t=e.children().not(".post--loaded").addClass("post--loaded");t.imagesLoaded(function(){e.hasClass("js-masonry")&&(e.masonry("appended",t,!0).masonry("layout"),m()(".infinite-loader").hide())}),this.handleContent(e),this.adjustLayout()}},{key:"scaleCardSeparators",value:function(){m()(".c-card").not(".c-card--related").each(function(e,t){var n=m()(t),i=n.find(".c-meta"),r=n.find(".c-meta__separator").hide(),o=n[0].offsetWidth,s=0;i.children().each(function(e,t){s+=t.offsetWidth}),s+14<=o&&r.show()})}},{key:"addIsLoadedListener",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$body).find(".widget_categories_image_grid, .c-card__frame, .entry-thumbnail").find("img").each(function(e,t){var n=m()(t);n.imagesLoaded(function(){n.addClass("is-loaded")}),A.below("pad")&&n.addClass("is-loaded")})}},{key:"handleContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$body;if(this.Recipe.positionPrintBtn(),this.Recipe.wrapRecipeElements(),A.unwrapImages(e.find(".entry-content")),A.wrapEmbeds(e.find(".entry-content")),A.handleVideos(e),A.handleCustomCSS(e),m()(".single .entry-content .tiled-gallery").wrap('<div class="aligncenter" />'),this.addIsLoadedListener(e),e.hasClass("page-template-front-page")){var t=e.find(".content-area .widget-area"),n=t.children(".widget").first(),i=t.is(".o-layout__full"),r=n.is(".widget_featured_posts_5cards, .widget_featured_posts_6cards, .widget_featured_posts_grid"),o=0<n.children(".widget__title").length;i&&r&&!o&&this.$body.addClass("has-extended-header-background")}!e.hasClass("blog")||e.hasClass("u-site-header-short")||m()(".o-layout__side").length||this.$body.addClass("has-extended-header-background"),e.find(".entry-content p").each(function(e,t){var n=m()(t);n.children().length||m.a.trim(n.text()).length||n.remove()});var s=m()(".comment-form");if(s.length){var a=m()('<p class="comment-form-subscriptions"></p>').appendTo(s);m()(".comment-subscription-form").appendTo(a)}e.find(".c-gallery").not(".c-gallery--widget, .c-footer__gallery").each(function(e,t){new Je(m()(t))}),e.find(".widget_categories select").select2(),this.handleCarousels(),this.handleSlideshows(),this.handleSingleHeader(),this.eventHandlers(e)}},{key:"handleSingleHeader",value:function(){var e=m()(".entry-content").children().first().filter(".intro"),t=m()(".entry-header"),n=m()("body");if(!t.is("is-initialised")&&(t.addClass("is-initialised"),A.above("pad")&&n.is(".entry-image--portrait"))){var i=t.wrap("<div>").parent(),r=m()('<div class="header-spacer"></div>');e.length?i.append(e.wrap('<div class="entry-content u-content-width">').parent()):(e=m()('<div class="entry-content u-content-width">'),i.append(e),r.addClass("header-spacer--empty")),r.insertAfter(e)}}},{key:"destroyCarousels",value:function(){this.carousels.forEach(function(e){e.destroy()}),this.carousels=[]}},{key:"destroySlideshows",value:function(){this.slideshows.forEach(function(e){e.destroy()}),this.slideshows=[]}},{key:"handleCarousels",value:function(){var n=this;this.getFeaturedPostsCarousels().forEach(function(e){var t=m()(e);n.carousels.push(new se(t,t.data()))})}},{key:"handleSlideshows",value:function(){var i=this,e=".widget_featured_posts_slideshow",t="site-header--inverted",n=m()(".featured-posts-slideshow"),r=m()(".site-header"),o=n.filter(".blend-with-header").first();if(o.length)if(A.above("lap")){var s=o.closest(e),a=m()('<div class="js-slideshow-placeholder">');s.data("placeholder",a),a.insertAfter(s),s.appendTo(r),r.addClass(t)}else r.find(e).each(function(e,t){var n=m()(t);n.data("placeholder").replaceWith(n)}),r.removeClass(t);n.each(function(e,t){var n=m()(t);i.slideshows.push(new pe(n.find(".c-hero__slider"),n.data()))})}},{key:"positionSidebar",value:function(){if(this.$body.is(".single-post.entry-image--portrait")){var e,t,n,i,r=m()(".widget-area--post"),o=r.parent();if(!o.length||!r.length)return;if(o.css({minHeight:"",position:""}),r.css({bottom:"",position:"",right:"",top:""}),A.below("pad"))return;e=o.offset(),t=r.outerHeight(),n=r.offset(),i=o.outerHeight()>t?0:"",o.css({minHeight:t+n.top-e.top,position:"relative"}),r.css({bottom:i,position:"absolute",right:0,top:n.top-e.top})}}},{key:"getFeaturedPostsCarousels",value:function(){return Qe(m()(".featured-posts-carousel"))}},{key:"handleCustomizerChanges",value:function(e){this.addIsLoadedListener(),e.hasClass("widget_featured_posts_slideshow")&&this.handleSlideshowsReload(),e.find(".featured-posts-carousel").length&&this.handleCarouselsReload(),""===e.selector&&this.handleSlideshowsReload()}},{key:"handleCarouselsReload",value:function(){this.destroyCarousels(),this.handleCarousels()}},{key:"handleSlideshowsReload",value:function(){this.destroySlideshows(),this.handleSlideshows()}},{key:"changeHeaderDropcapOpacity",value:function(){A.above("small")&&m()(".header-dropcap, .post:not(.has-post-thumbnail) .c-card__letter").each(function(e,t){m()(t).css("opacity",1)})}},{key:"adjustLayout",value:function(){this.applyMasonryOnGallery(),this.changeHeaderDropcapOpacity(),this.scaleCardSeparators();var e=m()(".header.nav");e.parent().hasClass("c-navbar__zone--left")&&e.appendTo(".c-navbar__zone--middle"),0===m()(".menu--secondary").length&&m()(".c-navbar__zone--left").addClass("u-justify-end"),this.wrapContentImages(),setTimeout(this.modifyHeaderDropcap.bind(this),100),this.positionStickyWidgets()}},{key:"applyMasonryOnGallery",value:function(){m()(this.masonrySelector).each(function(e,t){var n=m()(t);n.children().addClass("post--loaded"),n.imagesLoaded(function(){new r(n.get(0),{transitionDuration:0})})})}},{key:"wrapContentImages",value:function(){m()(".entry-content").find("figure").filter(".aligncenter, .alignnone").each(function(e,t){var n=m()(t),i=n.find("img"),r=n.outerWidth();i.outerWidth()<r&&n.wrap("<p>")})}},{key:"modifyHeaderDropcap",value:function(){m()(".header-dropcap, .c-card__letter").each(function(e,t){A.fitText(m()(t))})}},{key:"initCarousels",value:function(){var t=this;0<this.featuredCarousel.length||A.above("lap")||(this.getXCardsCarousels().forEach(function(e){t.initXCardsCarousel(m()(e))}),this.getSlideshows().forEach(function(e){t.initSlideshowCarousel(m()(e))}))}},{key:"initSlideshowCarousel",value:function(e){var t=e.find(".c-hero__slide"),n=e.clone().empty().removeAttr("id").addClass("featured-posts-cards--mobile"),g="";t.each(function(e,t){var n=m()(t),i=n.find(".c-hero__image").first(),r=n.find(".c-meta"),o=n.find(".c-hero__title-mask h2").text(),s=n.find(".c-hero__excerpt").html(),a=n.find(".c-hero__link").attr("href"),c=i.clone().removeClass("c-hero__image"),u=m()('<div class="c-card__frame">'),l=m()('<div class="c-card__letter">'+o.charAt(0)+"</div>"),f=m()('<div class="c-card__aside c-card__thumbnail-background"></div>'),d=m()('<div class="c-card__meta">').append(r),h=m()('<div class="c-card__title"><span>'+o+"</span></div>"),p=m()('<div class="c-card__excerpt">').append(s),y=m()('<a class="c-card__link" href="'+a+'"></a>'),b=m()('<div class="c-card"></div>'),v=m()('<div class="c-card__content"></div>');u.append(c,l),f.append(u),v.append(d,h,p),b.append(f,v,y),g+=b.wrap("<article>").parent().prop("outerHTML")}),n.html(g).insertAfter(e),this.featuredCarousel.push(new se(n,{show_pagination:""}))}},{key:"initXCardsCarousel",value:function(e){var t=[].concat(Qe(e.find(".posts-wrapper--main").find("article").clone()),Qe(e.find(".posts-wrapper--left").find("article").clone()),Qe(e.find(".posts-wrapper--right").find("article").clone())),n=e.clone().empty().append(t).addClass("featured-posts-cards--mobile");e.addClass("featured-posts-cards--desktop"),e.parent().append(n),this.featuredCarousel.push(new se(n,{show_pagination:""}))}},{key:"getSlideshows",value:function(){return Qe(m()(".widget_featured_posts_slideshow"))}},{key:"getXCardsCarousels",value:function(){return[].concat(Qe(m()(".featured-posts-5cards")),Qe(m()(".featured-posts-6cards")))}}]),t}();new rt}]);